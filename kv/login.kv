<LoginScreen>:
    canvas.before:
        Color:
            rgba: BG_DARK
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'

        # Status bar
        StatusBar:
            title: 'User Login'

        # Form content
        BoxLayout:
            orientation: 'vertical'
            padding: ['16dp', '8dp']
            spacing: '8dp'

            # Username field
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: '56dp'
                spacing: '4dp'
                Label:
                    text: 'Username'
                    font_size: '12sp'
                    color: WHITE
                    size_hint_y: None
                    height: '16dp'
                    text_size: self.size
                    halign: 'left'
                TextInput:
                    id: username_input
                    hint_text: 'Enter Username'
                    font_size: '14sp'
                    size_hint_y: None
                    height: '36dp'
                    multiline: False
                    background_color: BG_SURFACE
                    foreground_color: WHITE
                    hint_text_color: TEXT_MUTED
                    cursor_color: PRIMARY_COLOR
                    padding: ['12dp', '8dp']

            # Password field
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: '56dp'
                spacing: '4dp'
                Label:
                    text: 'Password'
                    font_size: '12sp'
                    color: WHITE
                    size_hint_y: None
                    height: '16dp'
                    text_size: self.size
                    halign: 'left'
                BoxLayout:
                    size_hint_y: None
                    height: '36dp'
                    TextInput:
                        id: password_input
                        hint_text: 'Password'
                        font_size: '14sp'
                        multiline: False
                        password: not root.password_visible
                        background_color: BG_SURFACE
                        foreground_color: WHITE
                        hint_text_color: TEXT_MUTED
                        cursor_color: PRIMARY_COLOR
                        padding: ['12dp', '8dp']
                    Button:
                        size_hint_x: None
                        width: '40dp'
                        background_color: BG_SURFACE
                        on_release: root.toggle_password()
                        Label:
                            text: 'O'
                            font_size: '14sp'
                            color: TEXT_MUTED
                            center: self.parent.center

            # Login button
            Button:
                size_hint_y: None
                height: '44dp'
                background_color: TRANSPARENT
                on_release: root.attempt_login(username_input.text, password_input.text)
                canvas.before:
                    Color:
                        rgba: PRIMARY_COLOR
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [8]
                Label:
                    text: 'Login'
                    font_size: '16sp'
                    bold: True
                    color: WHITE
                    center: self.parent.center

            Widget:

        # Bottom indicator
        AnchorLayout:
            size_hint_y: None
            height: '16dp'
            Widget:
                size_hint: None, None
                size: '80dp', '4dp'
                canvas:
                    Color:
                        rgba: 0.3, 0.3, 0.3, 0.5
                    RoundedRectangle:
                        pos: self.pos
                        size: self.size
                        radius: [2]
